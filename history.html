<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Ï£ºÍ∞Ñ Î∂ÑÎ∞∞ Ïù¥Î†•</title>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
<style>
body { background:#0f1015; color:#fff; font-family:Pretendard; margin:0; padding:30px;}
.card { background:#1c1f2a; padding:15px; border-radius:10px; margin-bottom:15px;}
</style>
</head>
<body>

<h1>üìú Ï£ºÍ∞Ñ Î∂ÑÎ∞∞ Ïù¥Î†•</h1>
<div id="list"></div>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyCbqEcGsdSDBZs8PjiI05YRNEGupLf3nSc",
  authDomain: "roider-guild-management.firebaseapp.com",
  projectId: "roider-guild-management",
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

db.collection("weekly_results").orderBy("createdAt", "desc").onSnapshot(snap => {
  const list = document.getElementById("list");
  list.innerHTML = "";
  snap.forEach(doc => {
    const d = doc.data();
    let html = `<div class="card"><h3>${d.week}</h3>`;
    Object.entries(d.result).forEach(([name, chest]) => {
      html += `<div>${name} : ${chest}Í∞ú</div>`;
    });
    html += `</div>`;
    list.innerHTML += html;
  });
});
</script>
</body>
</html>
